{% macro commit_status_icon(repo_name, commit_hash, stage_run_count=0, has_failed=False, has_running=False, has_completed=False) %}
    {% if stage_run_count > 0 %}
        <a href="{{ url_for('repo_edit.commit_stage_runs', repo_name=repo_name, commit_hash=commit_hash) }}"
           title="{{ stage_run_count }} workflow run(s) from this commit"
           style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-weight: 600; text-decoration: none;
                  {% if has_failed %}color: #f85149; font-size: 14px;
                  {% elif has_running %}border-radius: 50%; background-color: #1f6feb; color: white; font-size: 10px;
                  {% elif has_completed %}color: #3fb950; font-size: 14px;
                  {% else %}border-radius: 50%; background-color: #d29922; color: #0d1117; font-size: 10px;
                  {% endif %}">
            {% if has_failed %}✕{% elif has_completed %}✓{% else %}{{ stage_run_count if stage_run_count < 10 else '9+' }}{% endif %}
        </a>
    {% endif %}
{% endmacro %}
